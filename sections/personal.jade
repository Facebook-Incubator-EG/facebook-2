doctype html
html
  head
    link(rel='stylesheet', href='/css/index.css')
    link(rel='stylesheet', href='/css/bootstrap.css')
    link(rel='stylesheet', href='/css/c3.css')
    script(type='text/javascript', src='/js/vendor/d3.min.js')
    script(type='text/javascript', src='/js/vendor/c3.min.js')
    script(type='text/javascript', src='/js/local/filterbubblesimple.js')
    if userId !== 0
      title Personal page of ઉ#{userId}
    else
      title facebook.tracking.exposed invalid Personal page

    body(onload="displayPresence(#{userId}, '#presence', '#simpleinfo'); displayDistortion(#{userId}, '#distortion');")

  .container-fluid
    .jumbotron
      if userId !== 0
        h3 Lets look what metadata means for 
        h3 User 
          a(href="https://www.facebook.com/#{userId}") ઉ#{displayName}
      else
        h2 This 
          b would show 
          | how algoritm manipulation looks like...
        h1.center Unfortunatly, the user (ઉ) requested do no exists in this system.

  nav.navbar.navbar-default
    div.container
      div.navbar-header
        button.navbar-toggle.collapsed(type="button" data-toggle="collapse" data-target="#thenavbar" aria-expanded="false")
          span(id="sr-only") Toggle navigation
          span.icon-bar
          span.icon-bar
          span.icon-bar

      div.collapse.navbar-collapse(id="thenavbar")
        ul.nav.navbar-nav
          li
            a(href='/') Home
          li
            a(href='/realitymeter') RealityMeter
          li
            a(href='/overseer') Overseer
          li
            a(href='/impact') Impact
          li
            a(href='/slides-long') Slides

  if userId !== 0

    div.simpletext
      p Every time you refresh your facebook feed, Facebook can exert a reordering of your content. The word 
        b reordering 
        |is a pretty way to imply  
        b promotion 
        |and 
        b censorship
        |.
      p Because like an gatekeeper deciding who enter and who don't, Facebook's algorithm decide what you are going to see (promoted in the top of your feed) and what you would not see. Or you just see once, and never more, so you can't even claim censorship, and they can call "optimisation of your experience". 
      p With the following small visualisation, you'll see how much things get distorted by the algorithm.

    div.main-content
      p The user ઉ#{userId} has 
        span.blue-fb #{timelines} 
        | total posts available for analysis
       
      h3 Usage metric: how much is this user on Facebook?
      div(id="simpleinfo")

    div(id="presence")

    div.main-content
      small I'm considering belong to the same interaction every activity with less than 5 minutes of distance.
      p The graph above, can't go back in time 'yet'. the API and the visualisation with c3.js are not yet enhanced. Feel free to propose your visualization!

      h3 Reality distortion

      p This is your exposure to the algorithm of facebook, which namely can ignore the chronological order. Below, you see the place (more in top = the better) took buy certain post in your feed, compared to the expected chronological order.

    div(id="distortion")

    .footer
